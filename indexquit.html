<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Générateur de Combinaisons</title>
<style>
.container {
display: flex;
flex-direction: column;
align-items: center;
}

.input-column {
margin-bottom: 20px;
}

.resultats {
margin-bottom: 20px;
}

table {
border-collapse: collapse;
}

th, td {
border: 1px solid red;
padding: 8px;
}
body {
font-family: Arial, sans-serif;
background-color: #87CEEB; /* Fond bleu ciel */
text-align: center;
padding: 20px;
}
.container {
background-color: #fff;
padding: 15px;
border-radius: 5px;
display: inline-block;
}
input, button {
margin: 10px;
}
</style>
</head>
<body>
<div class="container">
<div class="input-column">
<label for="numeros">Saisir des numéros :</label>
<input type="text" id="numeros" placeholder="Entrez des numéros séparés par des virgules">
<button onclick="genererEtAfficherCombinaisons()">Générer les combinaisons</button>
<button onclick="eliminerPairs()">Éliminer les combinaisons avec P</button>
<button onclick="eliminerImpairs()">Éliminer les combinaisons avec I</button>
<button onclick="eliminerParIntervalleSomme()">Éliminer par intervalle de somme</button>
</div>
<div class="resultats">
<h2>TIERCE MAGIQUE :</h2>
<table id="combinaisons-trois-trois"></table>
<h2>COUPLE MAGIQUE :</h2>
<table id="combinaisons-deux-deux"></table>
</div>
</div>
<script>
let combinaisonsTroisTrois = [];
let combinaisonsDeuxDeux = [];
let numeros = [];

function genererCombinaisons() {
numeros = document.getElementById('numeros').value.split(',').map(num => parseInt(num.trim(), 10));

combinaisonsTroisTrois = [];
combinaisonsDeuxDeux = [];

for (let i = 0; i < numeros.length; i++) {
for (let j = i + 1; j < numeros.length; j++) {
for (let k = j + 1; k < numeros.length; k++) {
combinaisonsTroisTrois.push([numeros[i], numeros[j], numeros[k]]);
}
}
}

for (let i = 0; i < numeros.length; i++) {
for (let j = i + 1; j < numeros.length; j++) {
combinaisonsDeuxDeux.push([numeros[i], numeros[j]]);
}
}
}

function afficherCombinaisons(combinaisons, tableId) {
const table = document.getElementById(tableId);
table.innerHTML = '';

combinaisons.forEach((combinaison) => {
const row = table.insertRow();

// Calculer la somme des positions basée sur le classement des pronostics
const sommePositions = combinaison.reduce((acc, num) => {
const position = numeros.indexOf(num);
return acc + (position !== -1 ? position + 1 : 0);
}, 0);
const cellSommePositions = row.insertCell();
cellSommePositions.textContent = 'Somme des positions: ' + sommePositions;

// Ajouter le numéro de séquence à chaque combinaison
const cellIndex = row.insertCell();
cellIndex.textContent = 'Séquence: ' + (combinaisons.indexOf(combinaison) + 1);

combinaison.forEach(num => {
const cell = row.insertCell();
cell.textContent = num;
});
});
}

function genererEtAfficherCombinaisons() {
genererCombinaisons();
afficherCombinaisons(combinaisonsTroisTrois, 'combinaisons-trois-trois');
afficherCombinaisons(combinaisonsDeuxDeux, 'combinaisons-deux-deux');
}

function eliminerPairs() {
combinaisonsTroisTrois = combinaisonsTroisTrois.filter(combinaison => 
!combinaison.every(num => num % 2 === 0)
);
combinaisonsDeuxDeux = combinaisonsDeuxDeux.filter(combinaison => 
!combinaison.every(num => num % 2 === 0)
);

afficherCombinaisons(combinaisonsTroisTrois, 'combinaisons-trois-trois');
afficherCombinaisons(combinaisonsDeuxDeux, 'combinaisons-deux-deux');
}

function eliminerImpairs() {
combinaisonsTroisTrois = combinaisonsTroisTrois.filter(combinaison => 
!combinaison.every(num => num % 2 !== 0)
);
combinaisonsDeuxDeux = combinaisonsDeuxDeux.filter(combinaison => 
!combinaison.every(num => num % 2 !== 0)
);

afficherCombinaisons(combinaisonsTroisTrois, 'combinaisons-trois-trois');
afficherCombinaisons(combinaisonsDeuxDeux, 'combinaisons-deux-deux');
}

function eliminerParIntervalleSomme() {
const limiteInferieure = parseInt(prompt('Entrez la limite inférieure de la somme:'), 10);
const limiteSuperieure = parseInt(prompt('Entrez la limite supérieure de la somme:'), 10);

if (!isNaN(limiteInferieure) && !isNaN(limiteSuperieure)) {
combinaisonsTroisTrois = combinaisonsTroisTrois.filter(combinaison => {
const sommePositions = combinaison.reduce((acc, num) => {
const position = numeros.indexOf(num);
return acc + (position !== -1 ? position + 1 : 0);
}, 0);
return sommePositions < limiteInferieure || sommePositions > limiteSuperieure;
});

combinaisonsDeuxDeux = combinaisonsDeuxDeux.filter(combinaison => {
const sommePositions = combinaison.reduce((acc, num) => {
const position = numeros.indexOf(num);
return acc + (position !== -1 ? position + 1 : 0);
}, 0);
return sommePositions < limiteInferieure || sommePositions > limiteSuperieure;
});

afficherCombinaisons(combinaisonsTroisTrois, 'combinaisons-trois-trois');
afficherCombinaisons(combinaisonsDeuxDeux, 'combinaisons-deux-deux');
} else {
alert('Veuillez entrer des nombres valides pour les limites.');
}
}
</script>
</body>
</html>